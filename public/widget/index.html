<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Consulente FV</title>
    <link rel="stylesheet" href="widget.css" />
  </head>
  <body>
    <div class="page-shell">
      <div class="bg-orb orb-a"></div>
      <div class="bg-orb orb-b"></div>

      <div class="standalone-wrapper">
        <section class="branding-strip" id="brandingStrip">
          <p class="eyebrow" id="heroBrand">Consulente Fotovoltaico</p>
          <h1 id="heroTitle">Calcolatore EV + Fotovoltaico</h1>
          <p id="heroInfo">
            Simula i risparmi EV + FV in meno di un minuto e ricevi risposte immediate sui prossimi passi.
          </p>
          <div class="branding-meta">
            <span class="meta-pill" id="heroPill1">Simulazione in 60 sec</span>
            <span class="meta-pill" id="heroPill3">Analisi personalizzata</span>
          </div>
        </section>

        <section class="chat-shell">
          <div class="app" id="appRoot">
            <header class="topbar">
              <div>
                <h2 id="headerTitle">Consulente FV</h2>
                <p id="headerSub">Simula il risparmio EV + fotovoltaico</p>
              </div>
              <button id="closeBtn" class="icon-btn" type="button" aria-label="Chiudi">Ã—</button>
            </header>

            <main id="messages" class="messages" aria-live="polite"></main>

            <section class="quick-actions">
              <button id="toggleCalc" class="ghost" type="button">Simula Risparmio</button>
            </section>

            <section id="calcPanel" class="panel hidden" aria-label="Calcolatore">
              <h3>Calcolatore EV + FV</h3>

              <label for="autoKey">Auto elettrica</label>
              <select id="autoKey" required></select>

              <label for="kmAnnui">Km annui</label>
              <input id="kmAnnui" type="number" placeholder="15000" min="1" required />

              <label for="consumoCustom">Consumo custom (kWh/100km, opzionale)</label>
              <input id="consumoCustom" type="number" placeholder="Lascia vuoto per stima" min="1" step="0.1" />

              <label for="prezzoPubblico">Prezzo ricarica pubblica/rete (EUR/kWh)</label>
              <input id="prezzoPubblico" type="number" placeholder="0.65" min="0.01" step="0.01" required />

              <label for="impianto">Impianto FV</label>
              <select id="impianto" required></select>

              <label for="quotaEVdaFV">Quota ricarica EV coperta da FV (%)</label>
              <input id="quotaEVdaFV" type="number" placeholder="60" min="0" max="100" required />

              <label for="prezzoReteCasa">Prezzo energia casa (EUR/kWh)</label>
              <input id="prezzoReteCasa" type="number" placeholder="0.25" min="0.01" step="0.01" required />

              <label for="packageKey">Pacchetto (opzionale per rientro)</label>
              <select id="packageKey">
                <option value="">Nessuno</option>
              </select>

              <button id="runCalc" type="button">Calcola</button>
            </section>

            <form id="chatForm" class="chat-form">
              <input id="chatInput" type="text" placeholder="Scrivi qui..." autocomplete="off" />
              <button type="submit">Invia</button>
            </form>
          </div>
        </section>
      </div>
    </div>

    <script src="widget.js"></script>
  </body>
</html>
